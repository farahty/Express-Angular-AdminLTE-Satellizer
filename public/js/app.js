!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1),n(2),n(4),n(8),n(18)},function(t,e){"use strict";angular.module("app",["app.run","app.services","app.components","app.routes","app.config","app.partials"]),angular.module("app.run",[]),angular.module("app.routes",[]),angular.module("app.services",[]),angular.module("app.config",[]),angular.module("app.components",["ui.router","satellizer","angular-loading-bar","toastr","ngAnimate","restangular"])},function(t,e,n){"use strict";var o=n(3);angular.module("app.run").run(o.runRoutes)},function(t,e){"use strict";function n(t,e,n,o,r){"ngInject";if(t.user={name:"loading user .."},o.isAuthenticated()){var a=o.getPayload().sub;r.one("users",a).get().then(function(e){t.user=e.plain()}).catch(function(){e.go("app.login")})}t.$on("$stateChangeStart",function(t,n){if(n.data.auth&&!o.isAuthenticated())return t.preventDefault(),e.go("app.login")}),t.$on("$stateChangeSuccess",function(){n(function(){var t=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),e=$(window).height(),n=$(".sidebar").height();$("body").hasClass("login-page")?$(".content-wrapper, .right-side").css("min-height",0):e>=n?$(".content-wrapper, .right-side").css("min-height",e-t):$(".content-wrapper, .right-side").css("min-height",n)})})}n.$inject=["$rootScope","$state","$timeout","$auth","API"],Object.defineProperty(e,"__esModule",{value:!0}),e.runRoutes=n},function(t,e,n){"use strict";var o=n(5),r=n(6),a=n(7);angular.module("app.config").config(o.RoutesConfig).config(r.AuthConfig).config(a.LoadingBarConfig)},function(t,e){"use strict";function n(t,e){"ngInject";e.otherwise("/"),t.state("app",{abstract:!0,views:{layout:{templateUrl:"views/layout.html"},"navbar@app":{templateUrl:"views/navbar.html"},"sidebar@app":{templateUrl:"views/sidebar.html"},"footer@app":{templateUrl:"views/footer.html"},"main@app":{},"center@app":{}},data:{bodyClass:"hold-transition skin-blue sidebar-mini",auth:!1}}).state("app.login",{url:"/login",views:{"main@app":{},"sidebar@app":{},"navbar@app":{},"footer@app":{},"center@app":{template:"<login></login>"}},data:{bodyClass:"hold-transition login-page"}}).state("app.loader",{url:"/loader",views:{"main@app":{},"sidebar@app":{},"navbar@app":{},"footer@app":{},"center@app":{template:"<loader></loader>"}},data:{bodyClass:"hold-transition login-page"}}).state("app.home",{url:"/",data:{auth:!0},views:{"main@app":{template:"<home></home>"}}}).state("app.post_list",{url:"/posts",data:{auth:!0},views:{"main@app":{template:"<post-list></post-list>"}}}).state("app.post_show",{url:"/posts/:id",data:{auth:!0},views:{"main@app":{template:"<post-show></post-show>"}}}).state("app.post_edit",{url:"/posts/:id/edit",data:{auth:!0},views:{"main@app":{template:"<post-edit></post-edit>"}}}).state("app.post_create",{url:"/posts/create/new",data:{auth:!0},views:{"main@app":{template:"<post-create></post-create>"}}}).state("app.about_us",{url:"/about-us",data:{auth:!0},views:{"main@app":{template:'<about-us title="Nimer Farahty"></about-us>'}}}).state("app.logout",{url:"/logout",views:{"main@app":{controller:["$rootScope","$auth","$state",function(t,e,n){e.logout().then(function(){delete t.user,n.go("app.login")})}]}}})}n.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.RoutesConfig=n},function(t,e){"use strict";function n(t){"ngInject";t.httpInterceptor=function(){return!0},t.loginUrl="/auth/login",t.signupUrl="/api/auth/register",t.tokenRoot="data",t.facebook({clientId:"351188991889075",display:"popup"}),t.github({clientId:"81c2b18ec7a755be3fea"})}n.$inject=["$authProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.AuthConfig=n},function(t,e){"use strict";function n(t){"ngInject";t.includeSpinner=!0}n.$inject=["cfpLoadingBarProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingBarConfig=n},function(t,e,n){"use strict";var o=n(9),r=n(10),a=n(11),s=n(12),i=n(13),u=n(14),c=n(15),l=n(16),p=n(17);angular.module("app.components").directive("routeBodyclass",o.RouteBodyClassComponent).component("home",r.HomeComponent).component("login",a.LoginComponent).component("aboutUs",s.AboutUsComponent).component("postCreate",i.PostsCreateComponent).component("postEdit",u.PostsEditComponent).component("postList",c.PostsListComponent).component("postShow",l.PostsShowComponent).directive("userMenu",p.UserMenuComponent)},function(t,e){"use strict";function n(t){return{link:function(e,n){t.$on("$stateChangeSuccess",function(t,e,o,r){var a=angular.isDefined(r.data)&&angular.isDefined(r.data.bodyClass)?r.data.bodyClass:null,s=angular.isDefined(e.data)&&angular.isDefined(e.data.bodyClass)?e.data.bodyClass:null;a!=s&&(a&&n.removeClass(a),s&&n.addClass(s))})},restrict:"EA"}}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$rootScope"];e.RouteBodyClassComponent=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(){"ngInject";n(this,t)}return o(t,[{key:"$onInit",value:function(){}}]),t}();e.HomeComponent={templateUrl:"components/home/home.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o,r,a){"ngInject";n(this,t),this.$auth=e,this.$state=o,this.toastr=r,this.$roorScope=a}return t.$inject=["$auth","$state","toastr","$rootScope"],o(t,[{key:"$onInit",value:function(){}},{key:"login",value:function(){var t=this;this.$auth.login(this.user).then(function(e){t.$auth.setToken(e.data.token),t.$roorScope.user=e.data.user,t.$state.go("app.home")}).catch(function(e){t.toastr.error(e.data.message,"Error")})}},{key:"auth",value:function(t){var e=this;this.$auth.authenticate(t).then(function(t){e.$auth.setToken(t.data.token),e.$roorScope.user=t.data.user,e.$state.go("app.home")}).catch(function(t){e.toastr.error(t.data.message,"Error")})}}]),t}();e.LoginComponent={templateUrl:"components/login/login.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(){"ngInject";n(this,t)}return o(t,[{key:"$onInit",value:function(){}},{key:"alert",value:function(){swal(this.title,"You clicked the button!","success")}}]),t}();e.AboutUsComponent={templateUrl:"components/about-us/about-us.component.html",controller:r,controllerAs:"vm",bindings:{title:"@"}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o,r){"ngInject";n(this,t),this.API=e,this.$state=r,this.toastr=o,this.errors=[]}return t.$inject=["API","toastr","$state"],o(t,[{key:"$onInit",value:function(){}},{key:"submit",value:function(){var t=this;this.API.service("posts").post(this.post).then(function(){t.errors=[],t.toastr.success("Post has been added.","Success",{progressBar:!0}),t.$state.go("app.post_list")}).catch(function(e){t.errors=e.data.error.errors})}}]),t}();e.PostsCreateComponent={templateUrl:"components/posts/posts-create/posts-create.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o,r,a){"ngInject";var s=this;n(this,t),this.API=r,this.$stateParams=o,this.$state=e,this.toastr=a,this.post=null,this.errors=[];var i=o.id;this.API.one("posts",i).get().then(function(t){s.post=t})}return t.$inject=["$state","$stateParams","API","toastr"],o(t,[{key:"$onInit",value:function(){}},{key:"submit",value:function(){var t=this;this.post.put().then(function(){t.errors=[],t.toastr.success("Post has been Updated.","Success",{progressBar:!0}),t.$state.go("app.post_list")}).catch(function(e){t.errors=e.data.error.errors})}}]),t}();e.PostsEditComponent={templateUrl:"components/posts/posts-edit/posts-edit.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o){"ngInject";var r=this;n(this,t),this.posts=[],this.API=e,this.$state=o,this.API.all("posts").getList().then(function(t){r.posts=t.plain()})}return t.$inject=["API","$state"],o(t,[{key:"$onInit",value:function(){}},{key:"delete",value:function(t){var e=this;swal({title:"Are you sure?",text:"You will not be able to recover this data!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1,showLoaderOnConfirm:!0,html:!1},function(){e.API.one("posts",t).remove().then(function(){swal({title:"Deleted!",text:"CSS Class has been deleted.",type:"success",confirmButtonText:"OK",closeOnConfirm:!0},function(){e.$state.reload()})}).catch(function(){swal({title:"Error!",text:"Error while deleting post.",type:"error",confirmButtonText:"OK",closeOnConfirm:!0})})})}}]),t}();e.PostsListComponent={templateUrl:"components/posts/posts-list/posts-list.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,o){"ngInject";var r=this;n(this,t),this.post=null;var a=o.id;e.one("posts",a).get().then(function(t){r.post=t})}return t.$inject=["API","$stateParams"],o(t,[{key:"$onInit",value:function(){}}]),t}();e.PostsShowComponent={templateUrl:"components/posts/posts-show/posts-show.component.html",controller:r,controllerAs:"vm",bindings:{}}},function(t,e){"use strict";function n(t){return{link:function(e){e.user=t.user,e.$watch("$root.user",function(){e.user=t.user})},templateUrl:"components/widgets/user-menu/user-menu.component.html",restrict:"AE",replace:!0}}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$rootScope"];e.UserMenuComponent=n},function(t,e,n){"use strict";var o=n(19);angular.module("app.services").service("API",o.APIService)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.APIService=["Restangular","$auth","toastr",function t(e,o,r){"ngInject";n(this,t);var a={"Content-Type":"application/json",Accept:"application/x.express.v1+json"};return e.withConfig(function(t){t.setBaseUrl("/api/").setDefaultHeaders(a).setRestangularFields({id:"_id"}).setErrorInterceptor(function(t){if(422===t.status){var e=t.data.message+" , "+t.data.error.message,n=t.data.error.name+" - Error!";r.error(e,n,{progressBar:!0})}else 403===t.status&&r.error(t.data.message,"Access Denied",{progressBar:!0})}).addFullRequestInterceptor(function(t,e,n,r,a){if(o.isAuthenticated()){var s=o.getToken();a.Authorization="Bearer "+s}}).addResponseInterceptor(function(t){return t})})}]}]);